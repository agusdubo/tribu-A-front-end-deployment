{"ast":null,"code":"var _window$APP_CONFIG;// APIClient.js - Configurado para Spring Boot Backend\nconst URL_BASE=((_window$APP_CONFIG=window.APP_CONFIG)===null||_window$APP_CONFIG===void 0?void 0:_window$APP_CONFIG.API_BASE_URL)||\"http://localhost:8080\";// Endpoints del backend (coinciden con los controllers)\nconst ENDPOINT_RECURSOS=\"/api/resources\";const ENDPOINT_PROYECTOS=\"/api/projects\";const ENDPOINT_TIME_ENTRIES=\"/api/time-entries\";const ENDPOINT_REPORTES=\"/api/reports\";const ENDPOINT_AUTH=\"/auth\";function getAuthToken(){try{const userStr=sessionStorage.getItem('user');if(userStr){const user=JSON.parse(userStr);return user.token||null;}}catch(error){console.error('Error al obtener token:',error);}return null;}function getAuthHeaders(){const headers={'Content-Type':'application/json'};const token=getAuthToken();if(token){headers['Authorization']=\"Bearer \".concat(token);}const user=getCurrentUser();if(user&&user.employeeCode){headers['X-Employee-Id']=user.employeeCode;}return headers;}let APIClient={// ========== RECURSOS ==========\ngetAllResources:async function(){return getData(URL_BASE+ENDPOINT_RECURSOS);},getResourceById:async function(id){return getData(URL_BASE+ENDPOINT_RECURSOS+\"/\"+id);},// ========== PROYECTOS ==========\ngetAllProjects:async function(){return getData(URL_BASE+ENDPOINT_PROYECTOS);},getProjectsByEmployeeId:async function(employeeId){return getData(URL_BASE+ENDPOINT_PROYECTOS+\"/resources/\"+employeeId);},// ========== TAREAS - A TRAV√âS DE TU BACKEND (PROXY) ==========\n/**\n     * Obtener tareas del proyecto asignadas a un recurso espec√≠fico\n     * Llama a TU backend, que hace de proxy con la API del profesor\n     */getTasksByProjectAndResource:async function(projectId,resourceId){try{console.log('üìã Cargando tareas:',{projectId,resourceId});// Llamar a TU backend que act√∫a como proxy\nconst url=\"\".concat(URL_BASE,\"/api/tasks/project/\").concat(projectId,\"/resource/\").concat(resourceId);const tasks=await getData(url);console.log('‚úÖ Tareas recibidas:',tasks.length);return tasks;}catch(error){console.error('‚ùå Error al cargar tareas:',error);throw new Error('No se pudieron cargar las tareas: '+error.message);}},/**\n     * Obtener todas las tareas de un proyecto (sin filtrar por recurso)\n     */getTasksByProject:async function(projectId){try{console.log('üìã Cargando todas las tareas del proyecto:',projectId);const url=\"\".concat(URL_BASE,\"/api/tasks/project/\").concat(projectId);const tasks=await getData(url);console.log('‚úÖ Tareas del proyecto:',tasks.length);return tasks;}catch(error){console.error('‚ùå Error al cargar tareas:',error);throw error;}},// ========== TIME ENTRIES ==========\ncreateTimeEntry:async function(data){const timeEntryData={employeeId:data.employeeId,projectId:data.projectId,taskId:data.taskId||null,// ‚úÖ AGREGADO\nworkDate:data.workDate,workedMinutes:data.workedMinutes,description:data.description||\"\"};return postData(\"\".concat(URL_BASE).concat(ENDPOINT_TIME_ENTRIES),timeEntryData);},getTimeEntries:async function(employeeId,startDate,endDate){let url=\"\".concat(URL_BASE).concat(ENDPOINT_TIME_ENTRIES,\"?employeeId=\").concat(employeeId);if(startDate&&endDate){url+=\"&startDate=\".concat(startDate,\"&endDate=\").concat(endDate);}return getData(url);},getTimeEntryById:async function(id){return getData(\"\".concat(URL_BASE).concat(ENDPOINT_TIME_ENTRIES,\"/\").concat(id));},updateTimeEntry:async function(id,data){const timeEntryData={taskId:data.taskId||null,// ‚úÖ AGREGADO\nworkDate:data.workDate||data.fecha,workedMinutes:data.workedMinutes||data.horas*60,description:data.description||data.observaciones||\"\"};return putData(\"\".concat(URL_BASE).concat(ENDPOINT_TIME_ENTRIES,\"/\").concat(id),timeEntryData);},deleteTimeEntry:async function(id){return deleteData(\"\".concat(URL_BASE).concat(ENDPOINT_TIME_ENTRIES,\"/\").concat(id));},submitTimeEntries:async function(timeEntryIds){return postData(\"\".concat(URL_BASE).concat(ENDPOINT_TIME_ENTRIES,\"/submit\"),{timeEntryIds:timeEntryIds});},// ========== MANAGER - APROBACIONES ==========\ngetPendingApproval:async function(){return getData(\"\".concat(URL_BASE).concat(ENDPOINT_TIME_ENTRIES,\"/pending-approval\"));},approveTimeEntry:async function(id){return postData(\"\".concat(URL_BASE).concat(ENDPOINT_TIME_ENTRIES,\"/\").concat(id,\"/approve\"),{});},rejectTimeEntry:async function(id){return postData(\"\".concat(URL_BASE).concat(ENDPOINT_TIME_ENTRIES,\"/\").concat(id,\"/reject\"),{});},batchApproval:async function(approvals){return postData(\"\".concat(URL_BASE).concat(ENDPOINT_TIME_ENTRIES,\"/batch-approval\"),approvals);},// ========== REPORTES ==========\ngetWeeklyHoursReport:async function(employeeId,startDate,endDate){const url=\"\".concat(URL_BASE).concat(ENDPOINT_REPORTES,\"/weekly-hours?employeeId=\").concat(employeeId,\"&startDate=\").concat(startDate,\"&endDate=\").concat(endDate);return getData(url);},// src/services/APIClient.js\ngetProjectResourcesReport:async function(projectId,year){const url=\"\".concat(URL_BASE).concat(ENDPOINT_REPORTES,\"/project-costs/\").concat(year,\"/\").concat(projectId);console.log('üìä Llamando a:',url);return getData(url);},// ========== AUTENTICACI√ìN ==========\nlogin:async function(employeeCode,password){return postData(\"\".concat(URL_BASE).concat(ENDPOINT_AUTH,\"/login\"),{employeeCode,password});},logout:async function(){sessionStorage.removeItem('user');sessionStorage.removeItem('isAuthenticated');window.location.href='/login.html';},// ========== M√âTODOS LEGACY (para compatibilidad) ==========\ngetTimeEntriesByResource:async function(id){return this.getTimeEntries(id);},getResourcesByProjectAndYear:async function(projectId,year){const month=\"\".concat(year,\"-01-01\");return this.getProjectResourcesReport(projectId,year);}};// ========== FUNCIONES AUXILIARES ==========\nasync function getData(url){try{console.log('üîµ GET:',url);const response=await fetch(url,{method:'GET',headers:getAuthHeaders()});if(!response.ok){if(response.status===401){console.error('‚ùå No autorizado. Redirigiendo a login...');sessionStorage.clear();window.location.href='/login.html';return null;}const error=new Error(\"Error \".concat(response.status,\": \").concat(response.statusText));error.status=response.status;throw error;}const result=await response.json();console.log(\"‚úÖ GET exitoso:\",result);return result;}catch(error){console.error('‚ùå Error en getData:',error);throw error;}}async function postData(url,data){try{console.log('üü¢ POST:',url,data);const options={method:'POST',headers:getAuthHeaders(),body:JSON.stringify(data)};const response=await fetch(url,options);if(!response.ok){if(response.status===401){console.error('‚ùå No autorizado. Redirigiendo a login...');sessionStorage.clear();window.location.href='/login.html';return null;}let errorMessage=\"Error \".concat(response.status);try{const errorData=await response.json();errorMessage=errorData.message||errorData.error||errorMessage;}catch(e){errorMessage=response.statusText||errorMessage;}throw new Error(errorMessage);}const result=await response.json();console.log(\"‚úÖ POST exitoso:\",result);return result;}catch(error){console.error('‚ùå Error en postData:',error.message);throw error;}}async function putData(url,data){try{console.log('üü° PUT:',url,data);const options={method:'PUT',headers:getAuthHeaders(),body:JSON.stringify(data)};const response=await fetch(url,options);if(!response.ok){if(response.status===401){console.error('‚ùå No autorizado. Redirigiendo a login...');sessionStorage.clear();window.location.href='/login.html';return null;}let errorMessage=\"Error \".concat(response.status);try{const errorData=await response.json();errorMessage=errorData.message||errorData.error||errorMessage;}catch(e){errorMessage=response.statusText||errorMessage;}throw new Error(errorMessage);}const result=await response.json();console.log(\"‚úÖ PUT exitoso:\",result);return result;}catch(error){console.error('‚ùå Error en putData:',error.message);throw error;}}async function deleteData(url){try{console.log('üî¥ DELETE:',url);const options={method:'DELETE',headers:getAuthHeaders()};const response=await fetch(url,options);if(!response.ok){if(response.status===401){console.error('‚ùå No autorizado. Redirigiendo a login...');sessionStorage.clear();window.location.href='/login.html';return null;}throw new Error(\"Error \".concat(response.status,\": \").concat(response.statusText));}if(response.status===204){console.log(\"‚úÖ DELETE exitoso (No Content)\");return{success:true};}const result=await response.json();console.log(\"‚úÖ DELETE exitoso:\",result);return result;}catch(error){console.error('‚ùå Error en deleteData:',error.message);throw error;}}// ========== FUNCIONES AUXILIARES DE SESI√ìN ==========\nfunction getCurrentUser(){try{const userStr=sessionStorage.getItem('user');return userStr?JSON.parse(userStr):null;}catch(error){console.error('Error al obtener usuario:',error);return null;}}function isAuthenticated(){return sessionStorage.getItem('isAuthenticated')==='true';}// ========== FUNCI√ìN LEGACY (mantener compatibilidad) ==========\nfunction createTimeEntryJson(codigoEmpleado,fecha,proyecto,tarea,horas,status,observaciones){return{employeeId:codigoEmpleado,workDate:fecha,taskId:tarea,projectId:proyecto,workedMinutes:horas*60,description:observaciones||\"\"};}export default APIClient;","map":{"version":3,"names":["URL_BASE","_window$APP_CONFIG","window","APP_CONFIG","API_BASE_URL","ENDPOINT_RECURSOS","ENDPOINT_PROYECTOS","ENDPOINT_TIME_ENTRIES","ENDPOINT_REPORTES","ENDPOINT_AUTH","getAuthToken","userStr","sessionStorage","getItem","user","JSON","parse","token","error","console","getAuthHeaders","headers","concat","getCurrentUser","employeeCode","APIClient","getAllResources","getData","getResourceById","id","getAllProjects","getProjectsByEmployeeId","employeeId","getTasksByProjectAndResource","projectId","resourceId","log","url","tasks","length","Error","message","getTasksByProject","createTimeEntry","data","timeEntryData","taskId","workDate","workedMinutes","description","postData","getTimeEntries","startDate","endDate","getTimeEntryById","updateTimeEntry","fecha","horas","observaciones","putData","deleteTimeEntry","deleteData","submitTimeEntries","timeEntryIds","getPendingApproval","approveTimeEntry","rejectTimeEntry","batchApproval","approvals","getWeeklyHoursReport","getProjectResourcesReport","year","login","password","logout","removeItem","location","href","getTimeEntriesByResource","getResourcesByProjectAndYear","month","response","fetch","method","ok","status","clear","statusText","result","json","options","body","stringify","errorMessage","errorData","e","success","isAuthenticated","createTimeEntryJson","codigoEmpleado","proyecto","tarea"],"sources":["/home/agusdubo/Desktop/IS1/tribu-A-frontend-2025-2C/src/services/APIClient.js"],"sourcesContent":["// APIClient.js - Configurado para Spring Boot Backend\nconst URL_BASE = window.APP_CONFIG?.API_BASE_URL || \"http://localhost:8080\";\n\n// Endpoints del backend (coinciden con los controllers)\nconst ENDPOINT_RECURSOS = \"/api/resources\"\nconst ENDPOINT_PROYECTOS = \"/api/projects\"\nconst ENDPOINT_TIME_ENTRIES = \"/api/time-entries\"\nconst ENDPOINT_REPORTES = \"/api/reports\"\nconst ENDPOINT_AUTH = \"/auth\"\n\nfunction getAuthToken() {\n    try {\n        const userStr = sessionStorage.getItem('user');\n        if (userStr) {\n            const user = JSON.parse(userStr);\n            return user.token || null;\n        }\n    } catch (error) {\n        console.error('Error al obtener token:', error);\n    }\n    return null;\n}\n\nfunction getAuthHeaders() {\n    const headers = {\n        'Content-Type': 'application/json'\n    };\n\n    const token = getAuthToken();\n    if (token) {\n        headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    const user = getCurrentUser();\n    if (user && user.employeeCode) {\n        headers['X-Employee-Id'] = user.employeeCode;\n    }\n\n    return headers;\n}\n\nlet APIClient = {\n\n    // ========== RECURSOS ==========\n    getAllResources: async function () {\n        return getData(URL_BASE + ENDPOINT_RECURSOS)\n    },\n\n    getResourceById: async function(id) {\n        return getData(URL_BASE + ENDPOINT_RECURSOS + \"/\" + id)\n    },\n\n    // ========== PROYECTOS ==========\n    getAllProjects: async function() {\n        return getData(URL_BASE + ENDPOINT_PROYECTOS)\n    },\n\n    getProjectsByEmployeeId: async function (employeeId) {\n        return getData(URL_BASE + ENDPOINT_PROYECTOS + \"/resources/\" + employeeId)\n    },\n\n    // ========== TAREAS - A TRAV√âS DE TU BACKEND (PROXY) ==========\n\n    /**\n     * Obtener tareas del proyecto asignadas a un recurso espec√≠fico\n     * Llama a TU backend, que hace de proxy con la API del profesor\n     */\n    getTasksByProjectAndResource: async function(projectId, resourceId) {\n        try {\n            console.log('üìã Cargando tareas:', { projectId, resourceId });\n\n            // Llamar a TU backend que act√∫a como proxy\n            const url = `${URL_BASE}/api/tasks/project/${projectId}/resource/${resourceId}`;\n            const tasks = await getData(url);\n\n            console.log('‚úÖ Tareas recibidas:', tasks.length);\n\n            return tasks;\n\n        } catch (error) {\n            console.error('‚ùå Error al cargar tareas:', error);\n            throw new Error('No se pudieron cargar las tareas: ' + error.message);\n        }\n    },\n\n    /**\n     * Obtener todas las tareas de un proyecto (sin filtrar por recurso)\n     */\n    getTasksByProject: async function(projectId) {\n        try {\n            console.log('üìã Cargando todas las tareas del proyecto:', projectId);\n\n            const url = `${URL_BASE}/api/tasks/project/${projectId}`;\n            const tasks = await getData(url);\n\n            console.log('‚úÖ Tareas del proyecto:', tasks.length);\n\n            return tasks;\n\n        } catch (error) {\n            console.error('‚ùå Error al cargar tareas:', error);\n            throw error;\n        }\n    },\n\n    // ========== TIME ENTRIES ==========\n    createTimeEntry: async function(data) {\n        const timeEntryData = {\n            employeeId: data.employeeId,\n            projectId: data.projectId,\n            taskId: data.taskId || null,  // ‚úÖ AGREGADO\n            workDate: data.workDate,\n            workedMinutes: data.workedMinutes,\n            description: data.description || \"\"\n        };\n        return postData(`${URL_BASE}${ENDPOINT_TIME_ENTRIES}`, timeEntryData);\n    },\n\n    getTimeEntries: async function(employeeId, startDate, endDate) {\n        let url = `${URL_BASE}${ENDPOINT_TIME_ENTRIES}?employeeId=${employeeId}`;\n        if (startDate && endDate) {\n            url += `&startDate=${startDate}&endDate=${endDate}`;\n        }\n        return getData(url);\n    },\n\n    getTimeEntryById: async function(id) {\n        return getData(`${URL_BASE}${ENDPOINT_TIME_ENTRIES}/${id}`);\n    },\n\n    updateTimeEntry: async function(id, data) {\n        const timeEntryData = {\n            taskId: data.taskId || null,  // ‚úÖ AGREGADO\n            workDate: data.workDate || data.fecha,\n            workedMinutes: data.workedMinutes || (data.horas * 60),\n            description: data.description || data.observaciones || \"\"\n        };\n        return putData(`${URL_BASE}${ENDPOINT_TIME_ENTRIES}/${id}`, timeEntryData);\n    },\n\n    deleteTimeEntry: async function(id) {\n        return deleteData(`${URL_BASE}${ENDPOINT_TIME_ENTRIES}/${id}`);\n    },\n\n    submitTimeEntries: async function(timeEntryIds) {\n        return postData(`${URL_BASE}${ENDPOINT_TIME_ENTRIES}/submit`, {\n            timeEntryIds: timeEntryIds\n        });\n    },\n\n    // ========== MANAGER - APROBACIONES ==========\n    getPendingApproval: async function() {\n        return getData(`${URL_BASE}${ENDPOINT_TIME_ENTRIES}/pending-approval`);\n    },\n\n    approveTimeEntry: async function(id) {\n        return postData(`${URL_BASE}${ENDPOINT_TIME_ENTRIES}/${id}/approve`, {});\n    },\n\n    rejectTimeEntry: async function(id) {\n        return postData(`${URL_BASE}${ENDPOINT_TIME_ENTRIES}/${id}/reject`, {});\n    },\n\n    batchApproval: async function(approvals) {\n        return postData(`${URL_BASE}${ENDPOINT_TIME_ENTRIES}/batch-approval`, approvals);\n    },\n\n    // ========== REPORTES ==========\n    getWeeklyHoursReport: async function(employeeId, startDate, endDate) {\n        const url = `${URL_BASE}${ENDPOINT_REPORTES}/weekly-hours?employeeId=${employeeId}&startDate=${startDate}&endDate=${endDate}`;\n        return getData(url);\n    },\n\n    // src/services/APIClient.js\n\n    getProjectResourcesReport: async function(projectId, year) {\n        const url = `${URL_BASE}${ENDPOINT_REPORTES}/project-costs/${year}/${projectId}`;\n        console.log('üìä Llamando a:', url);\n        return getData(url);\n    },\n    // ========== AUTENTICACI√ìN ==========\n    login: async function(employeeCode, password) {\n        return postData(`${URL_BASE}${ENDPOINT_AUTH}/login`, {\n            employeeCode,\n            password\n        });\n    },\n\n    logout: async function() {\n        sessionStorage.removeItem('user');\n        sessionStorage.removeItem('isAuthenticated');\n        window.location.href = '/login.html';\n    },\n\n    // ========== M√âTODOS LEGACY (para compatibilidad) ==========\n    getTimeEntriesByResource: async function(id) {\n        return this.getTimeEntries(id);\n    },\n\n    getResourcesByProjectAndYear: async function(projectId, year) {\n        const month = `${year}-01-01`;\n        return this.getProjectResourcesReport(projectId, year);\n    }\n}\n\n// ========== FUNCIONES AUXILIARES ==========\n\nasync function getData(url) {\n    try {\n        console.log('üîµ GET:', url);\n\n        const response = await fetch(url, {\n            method: 'GET',\n            headers: getAuthHeaders()\n        });\n\n        if (!response.ok) {\n            if (response.status === 401) {\n                console.error('‚ùå No autorizado. Redirigiendo a login...');\n                sessionStorage.clear();\n                window.location.href = '/login.html';\n                return null;\n            }\n\n            const error = new Error(`Error ${response.status}: ${response.statusText}`);\n            error.status = response.status;\n            throw error;\n        }\n\n        const result = await response.json();\n        console.log(\"‚úÖ GET exitoso:\", result);\n        return result;\n    } catch (error) {\n        console.error('‚ùå Error en getData:', error);\n        throw error;\n    }\n}\n\nasync function postData(url, data) {\n    try {\n        console.log('üü¢ POST:', url, data);\n\n        const options = {\n            method: 'POST',\n            headers: getAuthHeaders(),\n            body: JSON.stringify(data)\n        };\n\n        const response = await fetch(url, options);\n\n        if (!response.ok) {\n            if (response.status === 401) {\n                console.error('‚ùå No autorizado. Redirigiendo a login...');\n                sessionStorage.clear();\n                window.location.href = '/login.html';\n                return null;\n            }\n\n            let errorMessage = `Error ${response.status}`;\n            try {\n                const errorData = await response.json();\n                errorMessage = errorData.message || errorData.error || errorMessage;\n            } catch (e) {\n                errorMessage = response.statusText || errorMessage;\n            }\n\n            throw new Error(errorMessage);\n        }\n\n        const result = await response.json();\n        console.log(\"‚úÖ POST exitoso:\", result);\n        return result;\n    } catch (error) {\n        console.error('‚ùå Error en postData:', error.message);\n        throw error;\n    }\n}\n\nasync function putData(url, data) {\n    try {\n        console.log('üü° PUT:', url, data);\n\n        const options = {\n            method: 'PUT',\n            headers: getAuthHeaders(),\n            body: JSON.stringify(data)\n        };\n\n        const response = await fetch(url, options);\n\n        if (!response.ok) {\n            if (response.status === 401) {\n                console.error('‚ùå No autorizado. Redirigiendo a login...');\n                sessionStorage.clear();\n                window.location.href = '/login.html';\n                return null;\n            }\n\n            let errorMessage = `Error ${response.status}`;\n            try {\n                const errorData = await response.json();\n                errorMessage = errorData.message || errorData.error || errorMessage;\n            } catch (e) {\n                errorMessage = response.statusText || errorMessage;\n            }\n\n            throw new Error(errorMessage);\n        }\n\n        const result = await response.json();\n        console.log(\"‚úÖ PUT exitoso:\", result);\n        return result;\n    } catch (error) {\n        console.error('‚ùå Error en putData:', error.message);\n        throw error;\n    }\n}\n\nasync function deleteData(url) {\n    try {\n        console.log('üî¥ DELETE:', url);\n\n        const options = {\n            method: 'DELETE',\n            headers: getAuthHeaders()\n        };\n\n        const response = await fetch(url, options);\n\n        if (!response.ok) {\n            if (response.status === 401) {\n                console.error('‚ùå No autorizado. Redirigiendo a login...');\n                sessionStorage.clear();\n                window.location.href = '/login.html';\n                return null;\n            }\n\n            throw new Error(`Error ${response.status}: ${response.statusText}`);\n        }\n\n        if (response.status === 204) {\n            console.log(\"‚úÖ DELETE exitoso (No Content)\");\n            return { success: true };\n        }\n\n        const result = await response.json();\n        console.log(\"‚úÖ DELETE exitoso:\", result);\n        return result;\n    } catch (error) {\n        console.error('‚ùå Error en deleteData:', error.message);\n        throw error;\n    }\n}\n\n// ========== FUNCIONES AUXILIARES DE SESI√ìN ==========\n\nfunction getCurrentUser() {\n    try {\n        const userStr = sessionStorage.getItem('user');\n        return userStr ? JSON.parse(userStr) : null;\n    } catch (error) {\n        console.error('Error al obtener usuario:', error);\n        return null;\n    }\n}\n\nfunction isAuthenticated() {\n    return sessionStorage.getItem('isAuthenticated') === 'true';\n}\n\n// ========== FUNCI√ìN LEGACY (mantener compatibilidad) ==========\nfunction createTimeEntryJson(codigoEmpleado, fecha, proyecto, tarea, horas, status, observaciones) {\n    return {\n        employeeId: codigoEmpleado,\n        workDate: fecha,\n        taskId: tarea,\n        projectId: proyecto,\n        workedMinutes: horas * 60,\n        description: observaciones || \"\"\n    }\n}\n\nexport default APIClient;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}