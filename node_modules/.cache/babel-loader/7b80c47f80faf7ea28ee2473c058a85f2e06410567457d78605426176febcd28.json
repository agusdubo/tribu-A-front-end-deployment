{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{Users,ArrowLeft}from'lucide-react';import Header from'../components/Header';import LoadingState from'../components/LoadingState';import APIClient from'../services/APIClient';// âœ… ID del rol de Manager (Horacio)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ROL_ID_MANAGER=\"6e6ecd47-fa18-490e-b25a-c9101a398b6d\";const WeeklyHoursResourceSelection=()=>{const navigate=useNavigate();const[resources,setResources]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const loadResources=async()=>{setLoading(true);setError(null);try{const data=await APIClient.getAllResources();// âœ… FILTRAR: Excluir empleados con rol de MANAGER\nconst filteredResources=data.filter(resource=>resource.rolId!==ROL_ID_MANAGER);console.log(\"\\uD83D\\uDCCA Total empleados: \".concat(data.length));console.log(\"\\u2705 Empleados (sin managers): \".concat(filteredResources.length));setResources(filteredResources);}catch(err){setError(\"Error al cargar empleados: \".concat(err.message));}finally{setLoading(false);}};loadResources();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100 font-sans text-gray-900\",children:[/*#__PURE__*/_jsx(Header,{title:\"Reporte de Horas Semanales\",subtitle:\"Seleccione un empleado\",showBack:true,backPath:\"/manager/reportes\"}),/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[loading&&/*#__PURE__*/_jsx(LoadingState,{message:\"Cargando lista de empleados...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 p-4 rounded mb-6\",children:error}),!loading&&resources.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:resources.map(resource=>/*#__PURE__*/_jsx(\"li\",{className:\"hover:bg-gray-50 transition-colors\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(\"/manager/reportes/reporte-recurso?id=\".concat(resource.id,\"&nombre=\").concat(resource.nombre,\"&apellido=\").concat(resource.apellido)),className:\"w-full text-left p-4 flex justify-between items-center text-gray-900 font-medium\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-base\",children:\"\".concat(resource.nombre,\" \").concat(resource.apellido)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500 ml-2\",children:\"(Desarrollador)\"})]}),/*#__PURE__*/_jsx(ArrowLeft,{size:20,className:\"rotate-180 text-blue-500\"})]})},resource.id))})}),!loading&&resources.length===0&&!error&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-10 bg-white rounded-xl shadow-sm border border-gray-200\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-10 w-10 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium\",children:\"No hay empleados disponibles para reportes.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-2\",children:\"Los managers no aparecen en esta lista.\"})]})]})]});};export default WeeklyHoursResourceSelection;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Users","ArrowLeft","Header","LoadingState","APIClient","jsx","_jsx","jsxs","_jsxs","ROL_ID_MANAGER","WeeklyHoursResourceSelection","navigate","resources","setResources","loading","setLoading","error","setError","loadResources","data","getAllResources","filteredResources","filter","resource","rolId","console","log","concat","length","err","message","className","children","title","subtitle","showBack","backPath","map","onClick","id","nombre","apellido","size"],"sources":["/home/agusdubo/Desktop/IS1/tribu-A-frontend-2025-2C/src/pages/WeeklyHoursResourceSelection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Users, ArrowLeft } from 'lucide-react';\nimport Header from '../components/Header';\nimport LoadingState from '../components/LoadingState';\nimport APIClient from '../services/APIClient';\n\n// âœ… ID del rol de Manager (Horacio)\nconst ROL_ID_MANAGER = \"6e6ecd47-fa18-490e-b25a-c9101a398b6d\";\n\nconst WeeklyHoursResourceSelection = () => {\n    const navigate = useNavigate();\n    const [resources, setResources] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        const loadResources = async () => {\n            setLoading(true);\n            setError(null);\n            try {\n                const data = await APIClient.getAllResources();\n\n                // âœ… FILTRAR: Excluir empleados con rol de MANAGER\n                const filteredResources = data.filter(resource =>\n                    resource.rolId !== ROL_ID_MANAGER\n                );\n\n                console.log(`ðŸ“Š Total empleados: ${data.length}`);\n                console.log(`âœ… Empleados (sin managers): ${filteredResources.length}`);\n\n                setResources(filteredResources);\n            } catch (err) {\n                setError(`Error al cargar empleados: ${err.message}`);\n            } finally {\n                setLoading(false);\n            }\n        };\n        loadResources();\n    }, []);\n\n    return (\n        <div className=\"min-h-screen bg-gray-100 font-sans text-gray-900\">\n            <Header\n                title=\"Reporte de Horas Semanales\"\n                subtitle=\"Seleccione un empleado\"\n                showBack={true}\n                backPath=\"/manager/reportes\"\n            />\n\n            <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n                {loading && <LoadingState message=\"Cargando lista de empleados...\" />}\n                {error && <div className=\"bg-red-100 border border-red-400 text-red-700 p-4 rounded mb-6\">{error}</div>}\n\n                {!loading && resources.length > 0 && (\n                    <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden\">\n                        <ul className=\"divide-y divide-gray-200\">\n                            {resources.map(resource => (\n                                <li key={resource.id} className=\"hover:bg-gray-50 transition-colors\">\n                                    <button\n                                        onClick={() => navigate(`/manager/reportes/reporte-recurso?id=${resource.id}&nombre=${resource.nombre}&apellido=${resource.apellido}`)}\n                                        className=\"w-full text-left p-4 flex justify-between items-center text-gray-900 font-medium\"\n                                    >\n                                        <div>\n                                            <span className=\"text-base\">{`${resource.nombre} ${resource.apellido}`}</span>\n                                            <span className=\"text-sm text-gray-500 ml-2\">\n                                                (Desarrollador)\n                                            </span>\n                                        </div>\n                                        <ArrowLeft size={20} className=\"rotate-180 text-blue-500\" />\n                                    </button>\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                )}\n                {!loading && resources.length === 0 && !error && (\n                    <div className=\"text-center p-10 bg-white rounded-xl shadow-sm border border-gray-200\">\n                        <Users className=\"h-10 w-10 text-gray-400 mx-auto mb-4\" />\n                        <p className=\"text-lg font-medium\">No hay empleados disponibles para reportes.</p>\n                        <p className=\"text-sm text-gray-500 mt-2\">\n                            Los managers no aparecen en esta lista.\n                        </p>\n                    </div>\n                )}\n            </main>\n        </div>\n    );\n};\n\nexport default WeeklyHoursResourceSelection;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}