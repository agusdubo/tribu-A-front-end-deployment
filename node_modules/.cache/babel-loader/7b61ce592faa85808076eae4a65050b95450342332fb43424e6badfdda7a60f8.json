{"ast":null,"code":"const BASE_URL=\"https://tpg-squad-01-2025-2c.onrender.com/api\";export const ApiService={// 1. Obtener Proyectos (GET)\nobtenerProyectos:async()=>{try{const response=await fetch(\"\".concat(BASE_URL,\"/proyectos\"));if(!response.ok){throw new Error(\"Error \".concat(response.status,\": No se pudieron cargar los proyectos.\"));}return await response.json();}catch(error){console.error(\"Error de red o servidor:\",error);throw error;// Re-lanza el error para que la página lo maneje (muestre alerta, etc.)\n}},// 2. Obtener Costos (GET)\nobtenerCostosVigentes:async()=>{try{const response=await fetch(\"\".concat(BASE_URL,\"/costos-rol\"));if(!response.ok){throw new Error(\"Error \".concat(response.status,\": No se pudieron cargar los costos.\"));}return await response.json();}catch(error){console.error(\"Error de red o servidor:\",error);throw error;}},// 3. Crear Costo (POST)\ncrearCosto:async nuevoCosto=>{try{const response=await fetch(\"\".concat(BASE_URL,\"/costos-rol\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(nuevoCosto)});if(!response.ok){const errorBody=await response.text();throw new Error(\"Error \".concat(response.status,\": \").concat(errorBody||'No se pudo guardar el costo.'));}const contentType=response.headers.get(\"content-type\");if(contentType&&contentType.indexOf(\"application/json\")!==-1){return await response.json();}else{return{success:true};}}catch(error){console.error(\"Error guardando costo:\",error);throw error;}},// 4. Actualizar Costo (PUT)\nactualizarCosto:async(id,datos)=>{try{const response=await fetch(\"\".concat(BASE_URL,\"/costos-rol/\").concat(id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(datos)});if(!response.ok)throw new Error(\"Error al actualizar\");return await response.json();}catch(error){console.error(\"Error actualizando:\",error);throw error;}},// 5. Eliminar Costo (DELETE)\neliminarCosto:async id=>{try{const response=await fetch(\"\".concat(BASE_URL,\"/costos-rol/\").concat(id),{method:'DELETE'});if(!response.ok)throw new Error(\"Error al eliminar\");return true;}catch(error){console.error(\"Error eliminando:\",error);throw error;}},// 6. Reporte Calculado (GET)\nobtenerReporteMensual:async anio=>{try{const response=await fetch(\"\".concat(BASE_URL,\"/reportes/mensual/\").concat(anio));if(!response.ok){throw new Error(\"Error \".concat(response.status,\": No se pudo generar el reporte\"));}return await response.json();}catch(error){console.error(\"Error obteniendo reporte:\",error);throw error;}},// 7. Obtener Nombre roles (GET)\nobtenerNombreRoles:async()=>{try{const response=await fetch(\"\".concat(BASE_URL,\"/roles/nombres\"));if(!response.ok){throw new Error(\"Error \".concat(response.status,\": No se pudieron cargar los nombres roles.\"));}return await response.json();}catch(error){console.error(\"Error de red o servidor:\",error);throw error;}},// 8. Obtener Experiencias roles (GET)\nobtenerExperienciasRoles:async()=>{try{const response=await fetch(\"\".concat(BASE_URL,\"/roles/experiencias\"));if(!response.ok){throw new Error(\"Error \".concat(response.status,\": No se pudieron cargar las experiencias roles.\"));}return await response.json();}catch(error){console.error(\"Error de red o servidor:\",error);throw error;}},// 9. Obtener Lista Completa de Roles (Objetos con ID, Nombre, Exp)\n// Esto es necesario para cruzar el ID del costo con el nombre real\nobtenerTodosLosRoles:async()=>{try{const response=await fetch(\"\".concat(BASE_URL,\"/roles\"));// Endpoint que devuelve List<Rol>\nif(!response.ok)throw new Error(\"Error al obtener roles completos\");return await response.json();}catch(error){console.error(\"Error fetching full roles:\",error);return[];}}};","map":{"version":3,"names":["BASE_URL","ApiService","obtenerProyectos","response","fetch","concat","ok","Error","status","json","error","console","obtenerCostosVigentes","crearCosto","nuevoCosto","method","headers","body","JSON","stringify","errorBody","text","contentType","get","indexOf","success","actualizarCosto","id","datos","eliminarCosto","obtenerReporteMensual","anio","obtenerNombreRoles","obtenerExperienciasRoles","obtenerTodosLosRoles"],"sources":["/home/agusdubo/Desktop/IS1/tribu-A-frontend-2025-2C/src/services/api.js"],"sourcesContent":["const BASE_URL = \"https://tpg-squad-01-2025-2c.onrender.com/api\"; \n\nexport const ApiService = {\n\n    // 1. Obtener Proyectos (GET)\n    obtenerProyectos: async () => {\n        try {\n            const response = await fetch(`${BASE_URL}/proyectos`);\n            if (!response.ok) {\n                throw new Error(`Error ${response.status}: No se pudieron cargar los proyectos.`);\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"Error de red o servidor:\", error);\n            throw error; // Re-lanza el error para que la página lo maneje (muestre alerta, etc.)\n        }\n    },\n\n    // 2. Obtener Costos (GET)\n    obtenerCostosVigentes: async () => {\n        try {\n            const response = await fetch(`${BASE_URL}/costos-rol`);\n            if (!response.ok) {\n                throw new Error(`Error ${response.status}: No se pudieron cargar los costos.`);\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"Error de red o servidor:\", error);\n            throw error;\n        }\n    },\n\n    // 3. Crear Costo (POST)\n    crearCosto: async (nuevoCosto) => {\n        try {\n            const response = await fetch(`${BASE_URL}/costos-rol`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(nuevoCosto)\n            });\n            \n            if (!response.ok) {\n                const errorBody = await response.text();\n                throw new Error(`Error ${response.status}: ${errorBody || 'No se pudo guardar el costo.'}`);\n            }\n            \n            const contentType = response.headers.get(\"content-type\");\n            if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n                return await response.json();\n            } else {\n                return { success: true };\n            }\n\n        } catch (error) {\n            console.error(\"Error guardando costo:\", error);\n            throw error;\n        }\n    }, \n\n    // 4. Actualizar Costo (PUT)\n    actualizarCosto: async (id, datos) => {\n        try {\n            const response = await fetch(`${BASE_URL}/costos-rol/${id}`, {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(datos)\n            });\n            if (!response.ok) throw new Error(\"Error al actualizar\");\n            return await response.json();\n        } catch (error) {\n            console.error(\"Error actualizando:\", error);\n            throw error;\n        }\n    },\n\n    // 5. Eliminar Costo (DELETE)\n    eliminarCosto: async (id) => {\n        try {\n            const response = await fetch(`${BASE_URL}/costos-rol/${id}`, {\n                method: 'DELETE'\n            });\n            if (!response.ok) throw new Error(\"Error al eliminar\");\n            return true;\n        } catch (error) {\n            console.error(\"Error eliminando:\", error);\n            throw error;\n        }\n    },\n\n    // 6. Reporte Calculado (GET)\n    obtenerReporteMensual: async (anio) => {\n        try {\n            const response = await fetch(`${BASE_URL}/reportes/mensual/${anio}`);\n            if (!response.ok) {\n                throw new Error(`Error ${response.status}: No se pudo generar el reporte`);\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"Error obteniendo reporte:\", error);\n            throw error;\n        }\n    },\n\n\t// 7. Obtener Nombre roles (GET)\n\tobtenerNombreRoles: async () => {\n\t    try {\n\t        const response = await fetch(`${BASE_URL}/roles/nombres`);\n\t        if (!response.ok) {\n\t            throw new Error(`Error ${response.status}: No se pudieron cargar los nombres roles.`);\n\t        }\n\t        return await response.json();\n\t    } catch (error) {\n\t        console.error(\"Error de red o servidor:\", error);\n\t        throw error;\n\t    }\n\t},\n\n\t// 8. Obtener Experiencias roles (GET)\n\tobtenerExperienciasRoles: async () => {\n\t    try {\n\t        const response = await fetch(`${BASE_URL}/roles/experiencias`);\n\t        if (!response.ok) {\n\t            throw new Error(`Error ${response.status}: No se pudieron cargar las experiencias roles.`);\n\t        }\n\t        return await response.json();\n\t    } catch (error) {\n\t        console.error(\"Error de red o servidor:\", error);\n\t        throw error;\n\t    }\n\t},\n\n    // 9. Obtener Lista Completa de Roles (Objetos con ID, Nombre, Exp)\n    // Esto es necesario para cruzar el ID del costo con el nombre real\n    obtenerTodosLosRoles: async () => {\n        try {\n            const response = await fetch(`${BASE_URL}/roles`); // Endpoint que devuelve List<Rol>\n            if (!response.ok) throw new Error(\"Error al obtener roles completos\");\n            return await response.json();\n        } catch (error) {\n            console.error(\"Error fetching full roles:\", error);\n            return [];\n        }\n    }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}