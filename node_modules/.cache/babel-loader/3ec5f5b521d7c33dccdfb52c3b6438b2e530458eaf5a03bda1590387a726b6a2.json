{"ast":null,"code":"const BASE_URL = \"https://tpg-squad-01-2025-2c.onrender.com/api\";\nexport const ApiService = {\n  // 1. Obtener Proyectos (GET)\n  obtenerProyectos: async () => {\n    try {\n      const response = await fetch(`${BASE_URL}/proyectos`);\n      if (!response.ok) {\n        throw new Error(`Error ${response.status}: No se pudieron cargar los proyectos.`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error de red o servidor:\", error);\n      throw error; // Re-lanza el error para que la página lo maneje (muestre alerta, etc.)\n    }\n  },\n  // 2. Obtener Costos (GET)\n  obtenerCostosVigentes: async () => {\n    try {\n      const response = await fetch(`${BASE_URL}/costos-rol`);\n      if (!response.ok) {\n        throw new Error(`Error ${response.status}: No se pudieron cargar los costos.`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error de red o servidor:\", error);\n      throw error;\n    }\n  },\n  // 3. Crear Costo (POST)\n  crearCosto: async nuevoCosto => {\n    try {\n      const response = await fetch(`${BASE_URL}/costos-rol`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(nuevoCosto)\n      });\n      if (!response.ok) {\n        const errorBody = await response.text();\n        throw new Error(`Error ${response.status}: ${errorBody || 'No se pudo guardar el costo.'}`);\n      }\n      const contentType = response.headers.get(\"content-type\");\n      if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n        return await response.json();\n      } else {\n        return {\n          success: true\n        };\n      }\n    } catch (error) {\n      console.error(\"Error guardando costo:\", error);\n      throw error;\n    }\n  },\n  // 4. Actualizar Costo (PUT)\n  actualizarCosto: async (id, datos) => {\n    try {\n      const response = await fetch(`${BASE_URL}/costos-rol/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(datos)\n      });\n      if (!response.ok) throw new Error(\"Error al actualizar\");\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error actualizando:\", error);\n      throw error;\n    }\n  },\n  // 5. Eliminar Costo (DELETE)\n  eliminarCosto: async id => {\n    try {\n      const response = await fetch(`${BASE_URL}/costos-rol/${id}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) throw new Error(\"Error al eliminar\");\n      return true;\n    } catch (error) {\n      console.error(\"Error eliminando:\", error);\n      throw error;\n    }\n  },\n  // 6. Reporte Calculado (GET)\n  obtenerReporteMensual: async anio => {\n    try {\n      const response = await fetch(`${BASE_URL}/reportes/mensual/${anio}`);\n      if (!response.ok) {\n        throw new Error(`Error ${response.status}: No se pudo generar el reporte`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error obteniendo reporte:\", error);\n      throw error;\n    }\n  },\n  // 7. Obtener Nombre roles (GET)\n  obtenerNombreRoles: async () => {\n    try {\n      const response = await fetch(`${BASE_URL}/roles/nombres`);\n      if (!response.ok) {\n        throw new Error(`Error ${response.status}: No se pudieron cargar los nombres roles.`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error de red o servidor:\", error);\n      throw error;\n    }\n  },\n  // 8. Obtener Experiencias roles (GET)\n  obtenerExperienciasRoles: async () => {\n    try {\n      const response = await fetch(`${BASE_URL}/roles/experiencias`);\n      if (!response.ok) {\n        throw new Error(`Error ${response.status}: No se pudieron cargar las experiencias roles.`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error de red o servidor:\", error);\n      throw error;\n    }\n  },\n  // 9. Obtener Lista Completa de Roles (Objetos con ID, Nombre, Exp)\n  // Esto es necesario para cruzar el ID del costo con el nombre real\n  obtenerTodosLosRoles: async () => {\n    try {\n      const response = await fetch(`${BASE_URL}/roles`); // Endpoint que devuelve List<Rol>\n      if (!response.ok) throw new Error(\"Error al obtener roles completos\");\n      return await response.json();\n    } catch (error) {\n      console.error(\"Error fetching full roles:\", error);\n      return [];\n    }\n  }\n};","map":{"version":3,"names":["BASE_URL","ApiService","obtenerProyectos","response","fetch","ok","Error","status","json","error","console","obtenerCostosVigentes","crearCosto","nuevoCosto","method","headers","body","JSON","stringify","errorBody","text","contentType","get","indexOf","success","actualizarCosto","id","datos","eliminarCosto","obtenerReporteMensual","anio","obtenerNombreRoles","obtenerExperienciasRoles","obtenerTodosLosRoles"],"sources":["/home/agusdubo/Desktop/IS1/tribu-A-frontend-2025-2C/src/services/api.js"],"sourcesContent":["const BASE_URL = \"https://tpg-squad-01-2025-2c.onrender.com/api\"; \n\nexport const ApiService = {\n\n    // 1. Obtener Proyectos (GET)\n    obtenerProyectos: async () => {\n        try {\n            const response = await fetch(`${BASE_URL}/proyectos`);\n            if (!response.ok) {\n                throw new Error(`Error ${response.status}: No se pudieron cargar los proyectos.`);\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"Error de red o servidor:\", error);\n            throw error; // Re-lanza el error para que la página lo maneje (muestre alerta, etc.)\n        }\n    },\n\n    // 2. Obtener Costos (GET)\n    obtenerCostosVigentes: async () => {\n        try {\n            const response = await fetch(`${BASE_URL}/costos-rol`);\n            if (!response.ok) {\n                throw new Error(`Error ${response.status}: No se pudieron cargar los costos.`);\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"Error de red o servidor:\", error);\n            throw error;\n        }\n    },\n\n    // 3. Crear Costo (POST)\n    crearCosto: async (nuevoCosto) => {\n        try {\n            const response = await fetch(`${BASE_URL}/costos-rol`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(nuevoCosto)\n            });\n            \n            if (!response.ok) {\n                const errorBody = await response.text();\n                throw new Error(`Error ${response.status}: ${errorBody || 'No se pudo guardar el costo.'}`);\n            }\n            \n            const contentType = response.headers.get(\"content-type\");\n            if (contentType && contentType.indexOf(\"application/json\") !== -1) {\n                return await response.json();\n            } else {\n                return { success: true };\n            }\n\n        } catch (error) {\n            console.error(\"Error guardando costo:\", error);\n            throw error;\n        }\n    }, \n\n    // 4. Actualizar Costo (PUT)\n    actualizarCosto: async (id, datos) => {\n        try {\n            const response = await fetch(`${BASE_URL}/costos-rol/${id}`, {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(datos)\n            });\n            if (!response.ok) throw new Error(\"Error al actualizar\");\n            return await response.json();\n        } catch (error) {\n            console.error(\"Error actualizando:\", error);\n            throw error;\n        }\n    },\n\n    // 5. Eliminar Costo (DELETE)\n    eliminarCosto: async (id) => {\n        try {\n            const response = await fetch(`${BASE_URL}/costos-rol/${id}`, {\n                method: 'DELETE'\n            });\n            if (!response.ok) throw new Error(\"Error al eliminar\");\n            return true;\n        } catch (error) {\n            console.error(\"Error eliminando:\", error);\n            throw error;\n        }\n    },\n\n    // 6. Reporte Calculado (GET)\n    obtenerReporteMensual: async (anio) => {\n        try {\n            const response = await fetch(`${BASE_URL}/reportes/mensual/${anio}`);\n            if (!response.ok) {\n                throw new Error(`Error ${response.status}: No se pudo generar el reporte`);\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"Error obteniendo reporte:\", error);\n            throw error;\n        }\n    },\n\n\t// 7. Obtener Nombre roles (GET)\n\tobtenerNombreRoles: async () => {\n\t    try {\n\t        const response = await fetch(`${BASE_URL}/roles/nombres`);\n\t        if (!response.ok) {\n\t            throw new Error(`Error ${response.status}: No se pudieron cargar los nombres roles.`);\n\t        }\n\t        return await response.json();\n\t    } catch (error) {\n\t        console.error(\"Error de red o servidor:\", error);\n\t        throw error;\n\t    }\n\t},\n\n\t// 8. Obtener Experiencias roles (GET)\n\tobtenerExperienciasRoles: async () => {\n\t    try {\n\t        const response = await fetch(`${BASE_URL}/roles/experiencias`);\n\t        if (!response.ok) {\n\t            throw new Error(`Error ${response.status}: No se pudieron cargar las experiencias roles.`);\n\t        }\n\t        return await response.json();\n\t    } catch (error) {\n\t        console.error(\"Error de red o servidor:\", error);\n\t        throw error;\n\t    }\n\t},\n\n    // 9. Obtener Lista Completa de Roles (Objetos con ID, Nombre, Exp)\n    // Esto es necesario para cruzar el ID del costo con el nombre real\n    obtenerTodosLosRoles: async () => {\n        try {\n            const response = await fetch(`${BASE_URL}/roles`); // Endpoint que devuelve List<Rol>\n            if (!response.ok) throw new Error(\"Error al obtener roles completos\");\n            return await response.json();\n        } catch (error) {\n            console.error(\"Error fetching full roles:\", error);\n            return [];\n        }\n    }\n};"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,+CAA+C;AAEhE,OAAO,MAAMC,UAAU,GAAG;EAEtB;EACAC,gBAAgB,EAAE,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,YAAY,CAAC;MACrD,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,SAASH,QAAQ,CAACI,MAAM,wCAAwC,CAAC;MACrF;MACA,OAAO,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChD,MAAMA,KAAK,CAAC,CAAC;IACjB;EACJ,CAAC;EAED;EACAE,qBAAqB,EAAE,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACA,MAAMR,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,aAAa,CAAC;MACtD,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,SAASH,QAAQ,CAACI,MAAM,qCAAqC,CAAC;MAClF;MACA,OAAO,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChD,MAAMA,KAAK;IACf;EACJ,CAAC;EAED;EACAG,UAAU,EAAE,MAAOC,UAAU,IAAK;IAC9B,IAAI;MACA,MAAMV,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,aAAa,EAAE;QACnDc,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,UAAU;MACnC,CAAC,CAAC;MAEF,IAAI,CAACV,QAAQ,CAACE,EAAE,EAAE;QACd,MAAMc,SAAS,GAAG,MAAMhB,QAAQ,CAACiB,IAAI,CAAC,CAAC;QACvC,MAAM,IAAId,KAAK,CAAC,SAASH,QAAQ,CAACI,MAAM,KAAKY,SAAS,IAAI,8BAA8B,EAAE,CAAC;MAC/F;MAEA,MAAME,WAAW,GAAGlB,QAAQ,CAACY,OAAO,CAACO,GAAG,CAAC,cAAc,CAAC;MACxD,IAAID,WAAW,IAAIA,WAAW,CAACE,OAAO,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,EAAE;QAC/D,OAAO,MAAMpB,QAAQ,CAACK,IAAI,CAAC,CAAC;MAChC,CAAC,MAAM;QACH,OAAO;UAAEgB,OAAO,EAAE;QAAK,CAAC;MAC5B;IAEJ,CAAC,CAAC,OAAOf,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAC9C,MAAMA,KAAK;IACf;EACJ,CAAC;EAED;EACAgB,eAAe,EAAE,MAAAA,CAAOC,EAAE,EAAEC,KAAK,KAAK;IAClC,IAAI;MACA,MAAMxB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,eAAe0B,EAAE,EAAE,EAAE;QACzDZ,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACS,KAAK;MAC9B,CAAC,CAAC;MACF,IAAI,CAACxB,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;MACxD,OAAO,MAAMH,QAAQ,CAACK,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3C,MAAMA,KAAK;IACf;EACJ,CAAC;EAED;EACAmB,aAAa,EAAE,MAAOF,EAAE,IAAK;IACzB,IAAI;MACA,MAAMvB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,eAAe0B,EAAE,EAAE,EAAE;QACzDZ,MAAM,EAAE;MACZ,CAAC,CAAC;MACF,IAAI,CAACX,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,mBAAmB,CAAC;MACtD,OAAO,IAAI;IACf,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzC,MAAMA,KAAK;IACf;EACJ,CAAC;EAED;EACAoB,qBAAqB,EAAE,MAAOC,IAAI,IAAK;IACnC,IAAI;MACA,MAAM3B,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,qBAAqB8B,IAAI,EAAE,CAAC;MACpE,IAAI,CAAC3B,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,SAASH,QAAQ,CAACI,MAAM,iCAAiC,CAAC;MAC9E;MACA,OAAO,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjD,MAAMA,KAAK;IACf;EACJ,CAAC;EAEJ;EACAsB,kBAAkB,EAAE,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACA,MAAM5B,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,gBAAgB,CAAC;MACzD,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,SAASH,QAAQ,CAACI,MAAM,4CAA4C,CAAC;MACzF;MACA,OAAO,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChD,MAAMA,KAAK;IACf;EACJ,CAAC;EAED;EACAuB,wBAAwB,EAAE,MAAAA,CAAA,KAAY;IAClC,IAAI;MACA,MAAM7B,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,qBAAqB,CAAC;MAC9D,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,SAASH,QAAQ,CAACI,MAAM,iDAAiD,CAAC;MAC9F;MACA,OAAO,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChD,MAAMA,KAAK;IACf;EACJ,CAAC;EAEE;EACA;EACAwB,oBAAoB,EAAE,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACA,MAAM9B,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGJ,QAAQ,QAAQ,CAAC,CAAC,CAAC;MACnD,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,kCAAkC,CAAC;MACrE,OAAO,MAAMH,QAAQ,CAACK,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,OAAO,EAAE;IACb;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}